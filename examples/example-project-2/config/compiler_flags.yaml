# This file was generated by Xen ProjGen.
file: "compiler_flags.yaml"
version: 1.0
author: "XeniaPhe"
license: "MIT License"
github: "https://github.com/XeniaPhe/Xen-ProjGen"
description: "YAML configuration file for compiler flags for GCC, Clang, and MSVC compilers across various build types"

# Basic rules for GCC and CLANG flags
# Enabling warnings: Use -W followed by the warning name (e.g., -Wall).
# Disabling warnings: Use -Wno- followed by the warning name (e.g., -Wno-unused-variable).
# Treat warnings as errors: Use -Werror= followed by the warning name with no spaces in between (e.g., -Werror=return-type)

# Basic rules for MSVC flags
# Enabling warnings: Use /wL followed by the warning number where L is the warning level the warning is enabled at (e.g. /w14061)
# Disable warnings: Use /wd followed by the warning number (e.g. /wd4100)
# Treat warnings as errors: Use /we followed by the warning number (e.g. /we4715)

gcc:
  debug:
    - flag: "-O0"
      description: "Disable optimizations"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html#index-O0"
      enabled: true

    - flag: "-g3"
      description: "Generate debug information"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Debugging-Options.html#index-g"
      enabled: true

    - flag: "-save-temps=obj"
      description: "Save intermediate files to the specified directory (Requires linker flags as well)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Developer-Options.html#index-save-temps"
      enabled: false

    - flag: "-fverbose-asm"
      description: "Generate verbose assembly code (Requires linker flags as well)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Code-Gen-Options.html#index-fverbose-asm"
      enabled: false

    - flag: "-fsanitize=undefined"
      description: "Enable undefined behavior sanitizer (Requires linker flags as well)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Instrumentation-Options.html#index-fsanitize_003dundefined"
      enabled: false

    - flag: "-fsanitize=address"
      description: "Enable address sanitizer (Requires linker flags as well)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Instrumentation-Options.html#index-fsanitize_003daddress"
      enabled: false

    - flag: "-Wall"
      description: "Enable most warning messages"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wall"
      enabled: true

    - flag: "-Wextra"
      description: "Enable extra warning messages"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wextra"
      enabled: true

    - flag: "-Wconversion"
      description: "Warn about implicit type conversions"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wconversion"
      enabled: true

    - flag: "-Wdouble-promotion"
      description: "Warn if a value is promoted to double"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wdouble-promotion"
      enabled: true

    - flag: "-Wno-unused-parameter"
      description: "Disable warnings about unused parameters"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wno-unused-parameter"
      enabled: true

    - flag: "-Wno-unused-function"
      description: "Disable warnings about unused functions"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wno-unused-function"
      enabled: true

    - flag: "-Wno-unused-result"
      description: "Disable warnings about unused results"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wno-unused-result"
      enabled: true

    - flag: "-Wno-sign-conversion"
      description: "Disable warnings about sign conversion"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wno-sign-conversion"
      enabled: true

    - flag: "-Wfloat-equal"
      description: "Warn about comparisons between floating point values"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wfloat-equal"
      enabled: true

    - flag: "-Wundef"
      description: "Warn if an undefined identifier is evaluated"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wundef"
      enabled: true

    - flag: "-Wshadow"
      description: "Warn when a local variable shadows another variable"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wshadow"
      enabled: true

    - flag: "-Wpointer-arith"
      description: "Warn about pointer arithmetic"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith"
      enabled: true

    - flag: "-Wcast-align"
      description: "Warn when a pointer cast decreases alignment"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wcast-align"
      enabled: true

    - flag: "-Wstrict-prototypes"
      description: "Warn if a function is not declared with a prototype (C only)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wstrict-prototypes"
      enabled: false

    - flag: "-Wmissing-prototypes"
      description: "Warn if a function is not declared with a prototype (C only)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wmissing-prototypes"
      enabled: false

    - flag: "-Wstrict-overflow=4"
      description: "Warn about optimizations that assume overflow does not occur"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wstrict-overflow"
      enabled: true

    - flag: "-Wwrite-strings"
      description: "Warn when a string literal is assigned to a `char*`"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wwrite-strings"
      enabled: true

    - flag: "-Wcast-qual"
      description: "Warn when a pointer is cast to a different type that may change the type qualifiers"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wcast-qual"
      enabled: true

    - flag: "-Wswitch-default"
      description: "Warn if a `switch` statement does not have a `default` case"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wswitch-default"
      enabled: true

    - flag: "-Wswitch-enum"
      description: "Warn if a `switch` statement does not handle all enumeration values"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wswitch-enum"
      enabled: true

    - flag: "-Werror=return-type"
      description: "Treat missing return statements as errors"
      documentation: "#https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wreturn-type"
      enabled: true

    - flag: "-Werror=implicit-function-declaration"
      description: "Treat implicit function declarations as errors (C only)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wimplicit-function-declaration"
      enabled: false

    - flag: "-Werror=incompatible-pointer-types"
      description: "Treat incompatible pointer types as errors (C only)"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wincompatible-pointer-types"
      enabled: false

    - flag: "-Wformat=2"
      description: "Warn about format string issues"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wformat"
      enabled: true

    - flag: "-Wuninitialized"
      description: "Warn about uninitialized variables"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wuninitialized"
      enabled: true

    - flag: "-Wunreachable-code"
      description: "Warn about code that is unreachable"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc-4.4.7/gcc/Warning-Options.html#index-Wunreachable_002dcode-437"
      enabled: true
  release:
    - flag: "-O3"
      description: "Optimize for maximum performance"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html#index-O3"
      enabled: true

    - flag: "-Ofast"
      description: "Enable -O3 and more optimizations that are not valid for all standard-compliant programs"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html#index-Ofast"
      enabled: false
  minsizerel:
    - flag: "-Os"
      description: "Optimize for size"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html#index-Os"
      enabled: true

    - flag: "-Oz"
      description: "Aggresively optimize for size"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html#index-Oz"
      enabled: false
  relwithdebinfo:
    - flag: "-O2"
      description: "Optimize for speed"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html#index-O2"
      enabled: true

    - flag: "-g3"
      description: "Generate debug information"
      documentation: "https://gcc.gnu.org/onlinedocs/gcc/Debugging-Options.html#index-g"
      enabled: true
clang:
  debug:
    - flag: "-O0"
      description: "Disable optimization"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#optimization-level"
      enabled: true

    - flag: "-g3"
      description: "Generate debug information"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#debug-level"
      enabled: true

    - flag: "-save-temps=obj"
      description: "Save intermediate files to the output directory (Requires linker flags as well)"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#cmdoption-clang-save-temps"
      enabled: false

    - flag: "-fsanitize=undefined"
      description: "Enable undefined behavior sanitizer (Requires linker flags as well)"
      documentation: "https://releases.llvm.org/12.0.0/tools/clang/docs/UndefinedBehaviorSanitizer.html#undefinedbehaviorsanitizer"
      enabled: false

    - flag: "-fsanitize=address"
      description: "Enable address sanitizer (Requires linker flags as well)"
      documentation: "https://releases.llvm.org/12.0.0/tools/clang/docs/AddressSanitizer.html"
      enabled: false

    - flag: "-Wall"
      description: "Enable most warning messages"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wall"
      enabled: true

    - flag: "-Wextra"
      description: "Enable extra warning messages"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wextra"
      enabled: true

    - flag: "-Wconversion"
      description: "Warn about implicit type conversions"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wconversion"
      enabled: true

    - flag: "-Wdouble-promotion"
      description: "Warn if a value is promoted to double"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wdouble-promotion"
      enabled: true

    - flag: "-Wno-unused-parameter"
      description: "Disable warnings about unused parameters"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wunused-parameter"
      enabled: true

    - flag: "-Wno-unused-function"
      description: "Disable warnings about unused functions"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wunused-function"
      enabled: true

    - flag: "-Wno-unused-result"
      description: "Disable warnings about unused results"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wunused-result"
      enabled: true

    - flag: "-Wno-sign-conversion"
      description: "Disable warnings about sign conversion"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wsign-conversion"
      enabled: true

    - flag: "-Wfloat-equal"
      description: "Warn about comparisons between floating point values"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wfloat-equal"
      enabled: true

    - flag: "-Wundef"
      description: "Warn if an undefined identifier is evaluated"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wundef"
      enabled: true

    - flag: "-Wshadow"
      description: "Warn when a local variable shadows another local variable"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wshadow"
      enabled: true

    - flag: "-Wpointer-arith"
      description: "Warn about pointer arithmetic"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wpointer-arith"
      enabled: true

    - flag: "-Wcast-align"
      description: "Warn when a pointer cast decreases alignment"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wcast-align"
      enabled: true

    - flag: "-Wstrict-prototypes"
      description: "Warn if a function is not declared with a prototype (C only)"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wstrict-prototypes"
      enabled: false

    - flag: "-Wmissing-prototypes"
      description: "Warn if a function is not declared with a prototype (C only)"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wmissing-prototypes"
      enabled: false

    - flag: "-Wwrite-strings"
      description: "Warn when a string literal is assigned to a `char*`"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wwrite-strings"
      enabled: true

    - flag: "-Wcast-qual"
      description: "Warn when a pointer is cast to a different type that may change the type qualifiers"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wcast-qual"
      enabled: true

    - flag: "-Wswitch-default"
      description: "Warn if a `switch` statement does not have a `default` case"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wswitch-default"
      enabled: true

    - flag: "-Wswitch-enum"
      description: "Warn if a `switch` statement does not handle all enumeration values"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wswitch-enum"
      enabled: true

    - flag: "-Werror=return-type"
      description: "Treat missing return statements as errors"
      documentation: "https://clang.llvm.org/docs/UsersManual.html#cmdoption-Werror #https://clang.llvm.org/docs/DiagnosticsReference.html#wreturn-type"
      enabled: true

    - flag: "-Werror=implicit-function-declaration"
      description: "Treat implicit function declarations as errors (C only)"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wimplicit-function-declaration"
      enabled: false

    - flag: "-Werror=incompatible-pointer-types"
      description: "Treat incompatible pointer types as  (C only)"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wincompatible-pointer-types"
      enabled: false

    - flag: "-Wformat=2"
      description: "Warn about format string issues"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wformat"
      enabled: true

    - flag: "-Wuninitialized"
      description: "Warn about uninitialized variables"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wuninitialized"
      enabled: true

    - flag: "-Wunreachable-code-aggressive"
      description: "Warn about aggressive unreachable code detection"
      documentation: "https://clang.llvm.org/docs/DiagnosticsReference.html#wunreachable-code"
      enabled: true
  release:
    - flag: "-O3"
      description: "Optimize for maximum performance"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#optimization-level"
      enabled: true

    - flag: "-ffast-math"
      description: "Enable math optimizations such as faster floating point operations that are not valid for all standard-compliant programs"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#optimization-level"
      enabled: false
  minsizerel:
    - flag: "-Os"
      description: "Optimize for size"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#optimization-level"
      enabled: true

    - flag: "-Oz"
      description: "Aggresively optimize for size"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#optimization-level"
      enabled: false
  relwithdebinfo:
    - flag: "-O2"
      description: "Optimize for speed"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#optimization-level"
      enabled: true

    - flag: "-g3"
      description: "Generate debug information"
      documentation: "https://clang.llvm.org/docs/ClangCommandLineReference.html#debug-level"
      enabled: true
msvc:
  debug:
    - flag: "/Od"
      description: "Disable optimization"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/od-disable-debug?view=msvc-170"
      enabled: true

    - flag: "/Zi"
      description: "Generate complete debug information"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/z7-zi-zi-debug-information-format?view=msvc-170"
      enabled: true

    - flag: "/FAs /Fa ./out/dump/"
      description: "Generate source and assembly code listings in the specified directory"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/fa-fa-listing-file?view=msvc-170"
      enabled: true

    - flag: "/RTC1"
      description: "Enable run-time error checks"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/rtc-run-time-error-checks?view=msvc-170"
      enabled: true

    - flag: "/fsanitize=address"
      description: "Enable address sanitizer"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/fsanitize?view=msvc-170"
      enabled: true

    - flag: "/W4"
      description: "Set warning level to 4, enable most warning messages"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/compiler-option-warning-level?view=msvc-170"
      enabled: true

    - flag: "/w14244"
      description: "Warn about implicit type conversions (Already included at level 2)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-levels-3-and-4-c4244?view=msvc-170"
      enabled: true

    - flag: "/wd4100"
      description: "Disable warnings about unused parameters"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4100?view=msvc-170"
      enabled: true

    - flag: "/wd4505"
      description: "Disable warnings about unused functions"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4505?view=msvc-170"
      enabled: true

    - flag: "/wd4365"
      description: "Disable warnings about sign conversion (Off by default)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4365?view=msvc-170"
      enabled: true

    - flag: "/w14668"
      description: "Warn if an undefined identifier is evaluated"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4668?view=msvc-170&redirectedfrom=MSDN"
      enabled: true

    - flag: "/w14459"
      description: "Warn when a local variable shadows another variable (Already included at level 4)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4459?view=msvc-170"
      enabled: true

    - flag: "/w14061"
      description: "Warn if a `switch` statement does not handle all enumeration values (Off by default)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4061?view=msvc-170"
      enabled: true

    - flag: "/w14062"
      description: "Warn if a `switch` statement does not have a `default` case (Off by default)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4062?view=msvc-170"
      enabled: true

    - flag: "/we4715"
      description: "Treat missing return statements as errors"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-1-c4715?view=msvc-170"
      enabled: true

    - flag: "/we4013"
      description: "Treat implicit function declarations as errors"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-3-c4013?view=msvc-170"
      enabled: true

    - flag: "/we4133"
      description: "Treat incompatible pointer types as errors"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-3-c4133?view=msvc-170"
      enabled: true

    - flag: "/w14101"
      description: "Warn about uninitialized variables when they're not used (Already included at level 3)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-3-c4101?view=msvc-170"
      enabled: true

    - flag: "/w14700"
      description: "Warn about uninitialized variables when they're used (Already included at level 1)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-1-and-level-4-c4700?view=msvc-170"
      enabled: true

    - flag: "/wd4189"
      description: "Disable warnings about initialized but unreferenced variables"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4189?view=msvc-170"
      enabled: true

    - flag: "/w14702"
      description: "Warn about code that is unreachable (Already included at level 4)"
      documentation: "https://learn.microsoft.com/en-us/cpp/error-messages/compiler-warnings/compiler-warning-level-4-c4702?view=msvc-170"
      enabled: true
  release:
    - flag: "/O2"
      description: "Optimize for maximum speed"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/o1-o2-minimize-size-maximize-speed?view=msvc-170"
      enabled: true

    - flag: "/fp:fast"
      description: "Optimize floating point math for speed and space but the compiler may omit rounding and special values (NaN, infinity) may not behave strictly."
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/fp-specify-floating-point-behavior?view=msvc-170#fast"
      enabled: false
  minsizerel:
    - flag: "/O1"
      description: "Optimize for size"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/o1-optimize-for-size?view=msvc-170"
      enabled: true
  relwithdebinfo:
    - flag: "/O1"
      description: "Optimize for size"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/o1-optimize-for-size?view=msvc-170"
      enabled: true

    - flag: "/Zi"
      description: "Generate complete debug information"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/z7-zi-zi-debug-information-format?view=msvc-170"
      enabled: true

    - flag: "/FAs /Fa ./out/dump/"
      description: "Generate source and assembly code listings in the specified directory"
      documentation: "https://learn.microsoft.com/en-us/cpp/build/reference/fa-fa-listing-file?view=msvc-170"
      enabled: true